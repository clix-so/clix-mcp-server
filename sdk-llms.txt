# Clix SDK Documentation for LLMs
# This file provides structured SDK information for AI assistants to enable intelligent code search
# All links point to GitHub raw content for direct source code access
# Format: - [Title](URL): Description covering purpose, features, implementation details, and usage

# Platform: iOS

## Core Components
- [Clix Main SDK](https://raw.githubusercontent.com/clix-so/clix-ios-sdk/refs/heads/main/Sources/Core/Clix.swift): Primary SDK entry point implementing singleton pattern with comprehensive user analytics, event tracking, and notification management. Provides both async/await and synchronous initialization. Features include user identification (setUserId, removeUserId), user property management (setUserProperty, setUserProperties, removeUserProperty), device information retrieval (getDeviceId, getPushToken), and FCM token handling. Built with modular service architecture using InitCoordinator for thread-safe initialization. Supports iOS 14+ with Swift 5.5+ async/await patterns. All methods are thread-safe with proper exception handling and logging.
- [Clix Config](https://raw.githubusercontent.com/clix-so/clix-ios-sdk/refs/heads/main/Sources/Core/ClixConfig.swift): SDK configuration model defining initialization parameters. Includes projectId (required), apiKey (optional for analytics-only mode), endpoint URL configuration for different environments, and debug mode flag. Implements Codable for persistent storage. Supports environment-specific settings and validates configuration parameters before initialization. Used by Clix.initialize(config:) method.
- [Clix Environment](https://raw.githubusercontent.com/clix-so/clix-ios-sdk/refs/heads/main/Sources/Core/ClixEnvironment.swift): Runtime environment container managing SDK state and configuration. Holds projectId, deviceId, push token, and API endpoint settings. Provides environment switching between production, staging, and development with associated base URLs. Manages global SDK state accessible to all service layers.
- [Clix App Delegate](https://raw.githubusercontent.com/clix-so/clix-ios-sdk/refs/heads/main/Sources/Core/ClixAppDelegate.swift): UIApplicationDelegate integration helper for push notification setup. Provides notification registration, device token handling, and notification received callbacks. Simplifies integration by wrapping UNUserNotificationCenter delegate methods. Includes methods for requesting authorization, handling registration success/failure, and processing notification payloads. Designed for easy SwiftUI and UIKit integration.
- [Clix Notification](https://raw.githubusercontent.com/clix-so/clix-ios-sdk/refs/heads/main/Sources/Core/ClixNotification.swift): Notification handling interface providing high-level notification API. Manages notification permission requests, handles foreground/background notification display, processes notification tap events, and extracts notification payloads. Integrates with NotificationService for analytics tracking. Supports rich notifications with media attachments and custom actions.
- [Clix Version](https://raw.githubusercontent.com/clix-so/clix-ios-sdk/refs/heads/main/Sources/Core/ClixVersion.swift): SDK version information provider. Contains current version string for API headers and debugging. Used in User-Agent headers for API requests and logged during initialization for troubleshooting.

## Services
- [Notification Service](https://raw.githubusercontent.com/clix-so/clix-ios-sdk/refs/heads/main/Sources/Services/NotificationService.swift): Core notification processing service handling FCM push notifications. Processes notification payloads (ClixPushNotificationPayload), tracks notification received and tapped events, manages notification presentation in foreground, handles deep links and custom data, and logs notification analytics to event service. Integrates with UNUserNotificationCenter for iOS 10+ notification management. Supports silent notifications, notification actions, and media attachments.
- [Event Service](https://raw.githubusercontent.com/clix-so/clix-ios-sdk/refs/heads/main/Sources/Services/EventService.swift): Event tracking and analytics engine implementing offline-first architecture. Features include event queuing with persistent storage, batch uploading for network efficiency, automatic retry logic with exponential backoff, event deduplication, and custom event tracking with typed properties. Tracks standard SDK events (notification_received, notification_tapped, app_opened) automatically. Supports event metadata enrichment with device context. Uses EventAPIService for backend communication.
- [Device Service](https://raw.githubusercontent.com/clix-so/clix-ios-sdk/refs/heads/main/Sources/Services/DeviceService.swift): Device management and user profile service. Handles device registration and updates, FCM token upsert operations, user identification (project user ID management), user property CRUD operations (create, update, delete), and device information collection. Manages ClixDevice model lifecycle. Integrates with DeviceAPIService for backend sync. Implements local-first architecture with background sync to server.
- [Storage Service](https://raw.githubusercontent.com/clix-so/clix-ios-sdk/refs/heads/main/Sources/Services/StorageService.swift): Persistent storage layer abstracting UserDefaults and Keychain. Provides project-scoped key-value storage with automatic data isolation per project. Supports Codable object storage with JSON serialization, secure credential storage in Keychain, data migration helpers, and storage cleanup. Thread-safe with synchronous access patterns. Used by all services for persistent state management including device info, user properties, event queue, and tokens.
- [Token Service](https://raw.githubusercontent.com/clix-so/clix-ios-sdk/refs/heads/main/Sources/Services/TokenService.swift): FCM token lifecycle manager. Handles token persistence across app launches, token refresh detection and updates, token retrieval for API calls, and token synchronization with backend. Monitors for APNs token changes and triggers device updates. Integrates with Firebase Cloud Messaging. Ensures push notification deliverability by keeping tokens current.
- [Clix API Client](https://raw.githubusercontent.com/clix-so/clix-ios-sdk/refs/heads/main/Sources/Services/ClixAPIClient.swift): HTTP client wrapper providing high-level API interface. Built on HTTPClient with request/response models. Handles authentication headers (project ID, API key), request serialization and response deserialization, error mapping to ClixError types, retry logic for transient failures, and request cancellation. Supports async/await patterns. Configurable base URL for environment switching. Used by DeviceAPIService and EventAPIService.
- [Device API Service](https://raw.githubusercontent.com/clix-so/clix-ios-sdk/refs/heads/main/Sources/Services/DeviceAPIService.swift): Device-specific API endpoints wrapper. Implements device registration endpoint (POST /devices), device update endpoint (PUT /devices/{id}), token upsert endpoint (POST /devices/tokens), user property management endpoints, and device retrieval. Handles ClixDevice serialization and API response parsing. Uses ClixAPIClient for HTTP communication. Maps API errors to domain errors.
- [Event API Service](https://raw.githubusercontent.com/clix-so/clix-ios-sdk/refs/heads/main/Sources/Services/EventAPIService.swift): Event tracking API client for analytics backend. Implements batch event upload endpoint (POST /events/batch), single event tracking endpoint (POST /events), event validation and serialization, and response handling. Supports event metadata and custom properties. Uses ClixAPIClient. Handles 201 Created and error responses. Implements retry logic for failed uploads.

## Models
- [Clix Device](https://raw.githubusercontent.com/clix-so/clix-ios-sdk/refs/heads/main/Sources/Models/ClixDevice.swift): Device information model representing iOS device data. Properties include deviceId (UUID), platform (iOS), osVersion (iOS version), deviceModel (iPhone model), appVersion (bundle version), locale (user locale), timezone (user timezone), screenWidth/screenHeight (display dimensions), and userProperties (custom attributes). Implements Codable for API serialization and storage. Includes factory methods for device creation with automatic property population from UIDevice and Bundle. Updated when user properties change.
- [Clix Push Notification Payload](https://raw.githubusercontent.com/clix-so/clix-ios-sdk/refs/heads/main/Sources/Models/ClixPushNotificationPayload.swift): Notification data parser for FCM payloads. Extracts notification title, body, subtitle (iOS-specific), badge count, sound name, category identifier for actions, custom data dictionary (arbitrary key-value pairs), image URL for rich notifications, and deep link URL. Implements Codable for JSON parsing from UNNotificationContent userInfo. Handles both aps and custom data sections. Validates required fields and provides defaults for optional fields.
- [Clix User Property](https://raw.githubusercontent.com/clix-so/clix-ios-sdk/refs/heads/main/Sources/Models/ClixUserProperty.swift): User attribute model for custom properties. Supports string, number, boolean, and date value types with automatic type detection. Includes property key validation (alphanumeric, max length), value sanitization, timestamp tracking for property changes, and metadata (source, modified date). Implements Codable for storage and API sync. Used by DeviceService for user property management. Supports property arrays and nested objects through JSON encoding.

## Notification Extension
- [Clix Notification Service Extension](https://raw.githubusercontent.com/clix-so/clix-ios-sdk/refs/heads/main/Sources/Notification/ClixNotificationServiceExtension.swift): UNNotificationServiceExtension subclass for rich push notifications. Enables notification content modification before display (iOS 10+). Downloads and attaches media (images, videos, audio) from notification payload. Tracks notification delivery analytics. Implements content decryption for secure notifications. Handles notification best attempt failure. Extends notification lifespan for background processing. Required for rich media notifications and analytics tracking.

## Utilities

### HTTP Layer
- [HTTP Client](https://raw.githubusercontent.com/clix-so/clix-ios-sdk/refs/heads/main/Sources/Utils/HTTP/HTTPClient.swift): Low-level URLSession wrapper providing async HTTP operations. Features include request building from HTTPRequest model, response parsing to HTTPResponse model, automatic retry with exponential backoff, timeout management, progress tracking for uploads/downloads, request cancellation via task handles, SSL pinning support, and network error mapping. Supports all HTTP methods. Handles redirects and authentication challenges. Thread-safe with concurrent request support.
- [HTTP Method](https://raw.githubusercontent.com/clix-so/clix-ios-sdk/refs/heads/main/Sources/Utils/HTTP/HTTPMethod.swift): HTTP method enum defining GET, POST, PUT, DELETE, PATCH. Used by HTTPRequest for type-safe method specification. Implements CustomStringConvertible for logging.
- [HTTP Request](https://raw.githubusercontent.com/clix-so/clix-ios-sdk/refs/heads/main/Sources/Utils/HTTP/HTTPRequest.swift): HTTP request model encapsulating request parameters. Properties include method (HTTPMethod), url (URL), headers (key-value dictionary), body (Data or Encodable), timeout (TimeInterval), and cachePolicy. Provides builders for JSON and form data requests. Validates required fields. Supports multipart/form-data for file uploads.
- [HTTP Response](https://raw.githubusercontent.com/clix-so/clix-ios-sdk/refs/heads/main/Sources/Utils/HTTP/HTTPResponse.swift): HTTP response wrapper containing status code, headers, body data, and parsed JSON. Provides convenience methods for success checking (isSuccess, isClientError, isServerError), JSON decoding to Codable types, error extraction from error responses, and response validation. Includes computed properties for content-type and content-length.

### Logging
- [Clix Logger](https://raw.githubusercontent.com/clix-so/clix-ios-sdk/refs/heads/main/Sources/Utils/Logging/ClixLogger.swift): Centralized logging system with configurable levels. Supports verbose, debug, info, warning, and error levels. Features include log filtering by level, formatted output with timestamps and file/line info, integration with os_log for system logging, log message queuing for performance, and thread-safe logging. Can pipe logs to remote services. Respects debug mode from ClixConfig. Includes structured logging with context.
- [Clix Log Level](https://raw.githubusercontent.com/clix-so/clix-ios-sdk/refs/heads/main/Sources/Utils/Logging/ClixLogLevel.swift): Logging level enumeration defining verbosity hierarchy. Levels: verbose (all logs), debug (development logs), info (informational), warning (potential issues), error (actual errors), none (silent). Implements Comparable for level filtering. Used by ClixLogger.setLogLevel().

### AnyCodable
- [Any Codable](https://raw.githubusercontent.com/clix-so/clix-ios-sdk/refs/heads/main/Sources/Utils/AnyCodable/AnyCodable.swift): Type-erased Codable wrapper supporting any JSON value type. Enables Codable conformance for heterogeneous data structures. Supports strings, numbers, booleans, arrays, dictionaries, and null. Used in user properties and custom event data where value type is unknown at compile time. Provides encode() and decode() methods handling all JSON types.
- [Any Decodable](https://raw.githubusercontent.com/clix-so/clix-ios-sdk/refs/heads/main/Sources/Utils/AnyCodable/AnyDecodable.swift): Type-erased Decodable supporting any JSON value. Handles dynamic JSON decoding with automatic type detection. Used for parsing API responses with unknown structure. Provides safe unwrapping to concrete types.
- [Any Encodable](https://raw.githubusercontent.com/clix-so/clix-ios-sdk/refs/heads/main/Sources/Utils/AnyCodable/AnyEncodable.swift): Type-erased Encodable supporting any JSON-compatible value. Enables encoding of mixed-type collections. Used for user property serialization and custom event data.

### Other Utilities
- [Clix Error](https://raw.githubusercontent.com/clix-so/clix-ios-sdk/refs/heads/main/Sources/Utils/ClixError.swift): SDK-specific error types defining failure cases. Errors include notInitialized (SDK not configured), invalidConfiguration (invalid config parameters), networkError (HTTP failures), apiError (backend errors with status codes), storageError (persistence failures), and encodingError (JSON serialization issues). Implements LocalizedError for user-friendly messages. Provides error context and recovery suggestions. Used throughout SDK for consistent error handling.
- [Date Formatter](https://raw.githubusercontent.com/clix-so/clix-ios-sdk/refs/heads/main/Sources/Utils/DateFormatter.swift): Date formatting utilities for API communication. Provides ISO8601 formatters for timestamps, custom formats for display, timezone conversion helpers, and date parsing from various formats. Handles RFC3339 dates used in API responses. Includes locale-independent formatters for consistency. Cached formatters for performance.

## Sample Integration (BasicApp)
- [Basic App Entry](https://raw.githubusercontent.com/clix-so/clix-ios-sdk/refs/heads/main/Samples/BasicApp/Sources/BasicApp.swift): SwiftUI app entry point demonstrating minimal Clix SDK integration. Uses @main attribute for app lifecycle. Integrates UIApplicationDelegateAdaptor to connect AppDelegate for SDK initialization and push notification setup. Shows basic SwiftUI app structure with Clix integration. Demonstrates UITextView appearance customization. Entry point for exploring complete SDK integration example.
- [App Delegate](https://raw.githubusercontent.com/clix-so/clix-ios-sdk/refs/heads/main/Samples/BasicApp/Sources/AppDelegate.swift): Complete AppDelegate implementation showing production-ready Clix SDK integration. Extends ClixAppDelegate for automatic push notification handling. Demonstrates SDK initialization in didFinishLaunchingWithOptions with ClixConfig (projectId, apiKey, logLevel). Shows Firebase integration for FCM (FirebaseApp.configure()). Implements user ID persistence with UserDefaults for app restarts. Handles FCM token retrieval and updates via Messaging.messaging().token. Overrides didRegisterForRemoteNotificationsWithDeviceToken for APNS token processing. Updates AppState with device ID and FCM token asynchronously. Includes error handling for registration failures. Perfect reference for SDK initialization flow.
- [Content View](https://raw.githubusercontent.com/clix-so/clix-ios-sdk/refs/heads/main/Samples/BasicApp/Sources/ContentView.swift): SwiftUI UI implementation demonstrating all SDK features interactively. ObservableObject pattern with AppState for reactive UI updates. Displays device ID, push token, project configuration dynamically. Implements user identification with setUserId/removeUserId and UserDefaults persistence. Shows user property management with key-value input fields and setUserProperty/removeUserProperty. Demonstrates custom event tracking with JSON parameter parsing. Handles async SDK operations with Task blocks and error handling. Includes alert system for user feedback on SDK operations. Complete UI reference showing SDK API usage patterns. Demonstrates proper error handling and user feedback for SDK operations.
- [Clix Configuration](https://raw.githubusercontent.com/clix-so/clix-ios-sdk/refs/heads/main/Samples/BasicApp/Sources/ClixConfiguration.swift): Centralized configuration file for SDK credentials. Defines static properties for projectId and apiKey. Simple enum pattern for configuration constants. Used throughout app for SDK initialization and notification extension. Shows best practice for managing SDK credentials separately. Easy to configure for different environments (dev, staging, prod).
- [App State](https://raw.githubusercontent.com/clix-so/clix-ios-sdk/refs/heads/main/Samples/BasicApp/Sources/AppState.swift): Observable app state manager using Combine framework. Singleton pattern with shared instance for global access. Published properties for isClixInitialized, deviceId, and fcmToken enabling SwiftUI reactivity. Thread-safe state updates with @Published wrapper. Helper methods updateDeviceId and updateFCMToken with nil handling. Demonstrates proper state management pattern for SDK integration. Used by ContentView for displaying real-time SDK state. Shows how to bridge SDK async APIs with SwiftUI reactive UI.
- [Notification Service Extension](https://raw.githubusercontent.com/clix-so/clix-ios-sdk/refs/heads/main/Samples/BasicApp/ClixNotificationExtension/NotificationService.swift): Complete notification service extension implementation for rich notifications. Extends ClixNotificationServiceExtension for automatic rich notification handling. Registers projectId in init() for notification tracking. Overrides didReceive for custom notification processing logic. Includes NSLog statements for debugging notification lifecycle. Overrides serviceExtensionTimeWillExpire for timeout handling. Demonstrates minimal implementation inheriting all base functionality. Shows proper extension setup for notification content modification and media attachment. Required for rich push notifications with images/videos. Enables notification delivery analytics tracking.

# Platform: Android

## Core Components
- [Clix Main SDK](https://raw.githubusercontent.com/clix-so/clix-android-sdk/refs/heads/main/clix/src/main/kotlin/so/clix/core/Clix.kt): Singleton object serving as Android SDK entry point with coroutine-based async operations. Initialization must occur in Application.onCreate() with application context. Features include Kotlin coroutines for async operations (CoroutineScope with SupervisorJob), automatic FCM token registration and upsert, user identification and property management (setUserId, setUserProperty, removeUserId), device information retrieval, lifecycle-aware background operations, and exception handling preventing app crashes. Built with lateinit services initialized once. Thread-safe with coroutine context. Supports BuildConfig.VERSION for versioning.
- [Clix Config](https://raw.githubusercontent.com/clix-so/clix-android-sdk/refs/heads/main/clix/src/main/kotlin/so/clix/core/ClixConfig.kt): Configuration data class for SDK initialization with builder pattern. Required fields: projectId and apiKey. Optional fields: endpoint URL (default to production), logLevel (ClixLogLevel enum), debug mode flag, and timeout settings. Validates configuration on build(). Serializable for state restoration. Used by Clix.initialize(context, config).
- [Clix Environment](https://raw.githubusercontent.com/clix-so/clix-android-sdk/refs/heads/main/clix/src/main/kotlin/so/clix/core/ClixEnvironment.kt): Runtime environment holder managing SDK state. Properties include context (Application Context), config (ClixConfig), deviceId (generated UUID), and token (FCM token). Provides environment-specific API base URLs. Implements kotlinx.serialization for JSON encoding. Shared across all services via Clix object. Supports environment switching for testing.

## Notification
- [Clix Messaging Service](https://raw.githubusercontent.com/clix-so/clix-android-sdk/refs/heads/main/clix/src/main/kotlin/so/clix/notification/ClixMessagingService.kt): FirebaseMessagingService subclass handling FCM integration. Overrides onNewToken() for token refresh handling, onMessageReceived() for notification payload processing, and handles foreground/background message display. Creates notification channels for Android O+ compatibility. Manages notification priority, sound, and vibration. Tracks notification delivery to NotificationService. Handles data-only messages for silent notifications. Implements PendingIntent for notification tap handling via NotificationTappedActivity.
- [Notification Tapped Activity](https://raw.githubusercontent.com/clix-so/clix-android-sdk/refs/heads/main/clix/src/main/kotlin/so/clix/notification/NotificationTappedActivity.kt): Transparent Activity handling notification tap events. Launched when user taps notification (via PendingIntent). Extracts notification payload from intent extras, triggers notification_tapped event via EventService, processes deep links or launches main activity, and finishes immediately. Uses transparent theme to avoid UI flash. Handles notification actions if present.

## Services
- [Notification Service](https://raw.githubusercontent.com/clix-so/clix-android-sdk/refs/heads/main/clix/src/main/kotlin/so/clix/services/NotificationService.kt): Notification lifecycle manager and display handler. Creates NotificationCompat notifications with Android compatibility. Manages notification channels (importance, sound, vibration) for Android 8+. Displays notifications with rich content (big text, images), handles notification actions and deep links, tracks notification received events via EventService, processes ClixPushNotificationPayload data, and manages notification IDs and tags. Supports notification grouping and bundling. Handles notification dismissal tracking.
- [Event Service](https://raw.githubusercontent.com/clix-so/clix-android-sdk/refs/heads/main/clix/src/main/kotlin/so/clix/services/EventService.kt): Event tracking engine with offline support and batching. Features include event queue with SQLite persistence, batch upload scheduler for network efficiency, automatic retry with exponential backoff, event deduplication by event ID, custom event tracking with typed properties, and automatic enrichment with device context. Tracks standard SDK events (notification_received, notification_tapped, device_registered). Uses EventAPIService for backend communication. Implements WorkManager for background uploads.
- [Device Service](https://raw.githubusercontent.com/clix-so/clix-android-sdk/refs/heads/main/clix/src/main/kotlin/so/clix/services/DeviceService.kt): Device registration and user profile manager. Handles device ID generation and persistence (UUID), device registration with backend (ClixDevice model), FCM token upsert operations, user identification (project user ID management), user property CRUD (add, update, remove properties), device information collection (model, manufacturer, OS version), and background sync with server. Respects Android privacy settings (GDPR). Uses DeviceAPIService for API calls. Implements local-first with eventual consistency.
- [Storage Service](https://raw.githubusercontent.com/clix-so/clix-android-sdk/refs/heads/main/clix/src/main/kotlin/so/clix/services/StorageService.kt): SharedPreferences wrapper with type-safe access and encryption. Provides project-scoped storage with automatic key prefixing, encrypted SharedPreferences for sensitive data, type-safe getters/setters for primitives and objects, JSON serialization via kotlinx.serialization, atomic operations with apply() vs commit(), and migration utilities for SDK updates. Thread-safe with synchronization. Supports custom PreferencesDataStore. Used for device info, user properties, tokens, and event queue.
- [Token Service](https://raw.githubusercontent.com/clix-so/clix-android-sdk/refs/heads/main/clix/src/main/kotlin/so/clix/services/TokenService.kt): FCM token manager handling lifecycle events. Features include token persistence across app restarts, token refresh detection and callbacks, token retrieval for push notifications, automatic token registration with backend, monitoring FirebaseMessaging.getInstance().token changes, and integration with DeviceService for token upsert. Handles InstanceID deprecation migration. Ensures tokens stay current for push notification delivery.
- [Clix API Client](https://raw.githubusercontent.com/clix-so/clix-android-sdk/refs/heads/main/clix/src/main/kotlin/so/clix/services/ClixAPIClient.kt): OkHttp-based HTTP client for API communication. Features include request/response interceptors for logging and auth, automatic retry with RetryInterceptor, timeout configuration (connect, read, write), error mapping to ClixError, coroutine support with suspend functions, JSON serialization via kotlinx.serialization, and connection pooling. Supports certificate pinning. Used by DeviceAPIService and EventAPIService. Handles 401 for authentication failures.
- [Device API Service](https://raw.githubusercontent.com/clix-so/clix-android-sdk/refs/heads/main/clix/src/main/kotlin/so/clix/services/DeviceAPIService.kt): Device-specific REST API client. Endpoints include POST /devices for registration, PUT /devices/{id} for updates, POST /devices/tokens for token upsert, GET /devices/{id} for device retrieval, and PATCH /devices/{id}/properties for user property updates. Handles ClixDevice and ClixServerDevice serialization. Uses ClixAPIClient for HTTP. Maps HTTP errors to domain errors. Implements retry logic for 5xx errors.
- [Event API Service](https://raw.githubusercontent.com/clix-so/clix-android-sdk/refs/heads/main/clix/src/main/kotlin/so/clix/services/EventAPIService.kt): Event tracking REST API client for analytics. Endpoints include POST /events/batch for bulk upload (recommended), POST /events for single event, and event validation before sending. Handles event serialization with kotlinx.serialization, batch size limits (max 100 events), response parsing for success/partial success, and retry logic for failed batches. Uses ClixAPIClient. Implements request compression for large batches.

## Models
- [Clix Device](https://raw.githubusercontent.com/clix-so/clix-android-sdk/refs/heads/main/clix/src/main/kotlin/so/clix/models/ClixDevice.kt): Client-side device model representing Android device data. Properties include deviceId (UUID string), platform (always "android"), osVersion (Build.VERSION.RELEASE), deviceModel (Build.MODEL), deviceManufacturer (Build.MANUFACTURER), appVersion (versionName from PackageInfo), buildNumber (versionCode), locale (Locale.getDefault()), timezone (TimeZone.getDefault()), screenWidth/screenHeight (DisplayMetrics), and userProperties (Map<String, Any>). Implements @Serializable for kotlinx.serialization. Includes factory methods for device creation with automatic property population from Android APIs. Used by DeviceService.
- [Clix Server Device](https://raw.githubusercontent.com/clix-so/clix-android-sdk/refs/heads/main/clix/src/main/kotlin/so/clix/models/ClixServerDevice.kt): Server-side device model for API responses. Extends ClixDevice with server-assigned fields including id (server-generated UUID), createdAt (ISO8601 timestamp), updatedAt (last modification timestamp), and projectId (project association). Used for device registration response parsing. Implements @Serializable. Maps to ClixDevice for local storage.
- [Clix Push Notification Payload](https://raw.githubusercontent.com/clix-so/clix-android-sdk/refs/heads/main/clix/src/main/kotlin/so/clix/models/ClixPushNotificationPayload.kt): FCM notification data parser for RemoteMessage. Extracts notification title, body, channelId (Android 8+ channel), priority (NotificationCompat priority), sound (notification sound), icon (small icon resource), color (notification color), image (large icon URL), actions (notification actions array), data (custom key-value map), and clickAction (deep link or activity). Implements @Serializable and Parcelable for intent passing. Handles both notification and data payloads. Validates required fields with defaults.
- [Clix User Property](https://raw.githubusercontent.com/clix-so/clix-android-sdk/refs/heads/main/clix/src/main/kotlin/so/clix/models/ClixUserProperty.kt): User attribute model with type safety. Supports String, Number (Int, Long, Double, Float), Boolean, and Date values with automatic type detection and conversion. Properties include key (property name with validation), value (polymorphic Any), type (enum of supported types), and timestamp (property modification time). Implements @Serializable with custom polymorphic serializer. Used by DeviceService for user property management. Validates key format (alphanumeric, max 64 chars) and value size limits.

## Utilities

### HTTP Layer
- [HTTP Client](https://raw.githubusercontent.com/clix-so/clix-android-sdk/refs/heads/main/clix/src/main/kotlin/so/clix/utils/http/HTTPClient.kt): OkHttp wrapper providing coroutine-based async HTTP. Features include suspend functions for async requests, automatic retry with configurable backoff, timeout management (connect, read, write), response parsing to HTTPResponse model, error mapping to ClixError, connection pooling for performance, and support for request/response interceptors. Handles HTTP/2. Thread-safe with coroutine contexts. Used by ClixAPIClient.
- [HTTP Method](https://raw.githubusercontent.com/clix-so/clix-android-sdk/refs/heads/main/clix/src/main/kotlin/so/clix/utils/http/HTTPMethod.kt): HTTP method enum for type-safe requests. Values: GET, POST, PUT, DELETE, PATCH, HEAD, OPTIONS. Implements value() for OkHttp compatibility. Used by HTTPRequest.
- [HTTP Request](https://raw.githubusercontent.com/clix-so/clix-android-sdk/refs/heads/main/clix/src/main/kotlin/so/clix/utils/http/HTTPRequest.kt): Request model encapsulating HTTP parameters. Properties include method (HTTPMethod), url (String), headers (Map<String, String>), body (ByteArray or JSON), and timeout (Long). Provides DSL builder for fluent API. Supports JSON body with automatic kotlinx.serialization. Validates required fields. Used by HTTPClient.
- [HTTP Response](https://raw.githubusercontent.com/clix-so/clix-android-sdk/refs/heads/main/clix/src/main/kotlin/so/clix/utils/http/HTTPResponse.kt): Response wrapper containing status code, headers, body bytes, and parsed JSON. Provides extension functions for success checking (isSuccessful, isClientError, isServerError), JSON deserialization to data classes, error extraction from response body, and header access. Includes computed properties for contentType and contentLength. Implements toString() for logging.

### Logging
- [Clix Logger](https://raw.githubusercontent.com/clix-so/clix-android-sdk/refs/heads/main/clix/src/main/kotlin/so/clix/utils/logging/ClixLogger.kt): Android logging facade with configurable levels. Uses android.util.Log internally with custom tag "Clix". Supports verbose, debug, info, warning, error levels. Features include log filtering by level, formatted output with throwable support, integration with Logcat, log message batching for performance, and thread information in debug mode. Can pipe logs to Crashlytics or similar services. Respects logLevel from ClixConfig. Includes object logging with toString().
- [Clix Log Level](https://raw.githubusercontent.com/clix-so/clix-android-sdk/refs/heads/main/clix/src/main/kotlin/so/clix/utils/logging/ClixLogLevel.kt): Logging level enum defining verbosity hierarchy. Levels: VERBOSE (all logs), DEBUG (development), INFO (informational), WARNING (potential issues), ERROR (actual errors), NONE (silent). Maps to android.util.Log priority levels. Implements Comparable for filtering. Used by ClixLogger.setLogLevel().

### Other Utilities
- [Clix Error](https://raw.githubusercontent.com/clix-so/clix-android-sdk/refs/heads/main/clix/src/main/kotlin/so/clix/utils/ClixError.kt): SDK-specific exception types. Errors include NotInitializedError (SDK not configured), InvalidConfigurationError (invalid config parameters), NetworkError (HTTP failures with status code), ApiError (backend errors with error body), StorageError (SharedPreferences failures), and SerializationError (kotlinx.serialization issues). Extends Exception with message and cause. Provides error context and recovery hints. Used throughout SDK for consistent error handling. Implements toString() for debugging.
- [Clix Date Formatter](https://raw.githubusercontent.com/clix-so/clix-android-sdk/refs/heads/main/clix/src/main/kotlin/so/clix/utils/ClixDateFormatter.kt): Date formatting utilities for API communication. Provides ISO8601 formatters (SimpleDateFormat with UTC), parsing from various formats including RFC3339, timezone conversion helpers, relative time calculations for analytics, and locale-independent formatters. Thread-safe with ThreadLocal SimpleDateFormat instances. Handles kotlinx-datetime integration. Used for event timestamps and API responses.

## Build and Configuration
- [Android Manifest](https://raw.githubusercontent.com/clix-so/clix-android-sdk/refs/heads/main/clix/src/main/AndroidManifest.xml): Declares SDK Android components (messaging service and tapped activity) and required permissions for FCM and notifications. Defines intent-filters and metadata as needed for proper notification handling.
- [Gradle Build Script](https://raw.githubusercontent.com/clix-so/clix-android-sdk/refs/heads/main/clix/build.gradle.kts): Android library module configuration. Sets compile/target SDK, Kotlin options, publishing coordinates, and wires ProGuard consumer rules. Manages dependencies and build features for the SDK.
- [ProGuard Rules](https://raw.githubusercontent.com/clix-so/clix-android-sdk/refs/heads/main/clix/proguard-rules.pro): Shrinker/obfuscation rules for the SDK itself. Preserves reflection/serialization-dependent classes to avoid runtime issues.

## Sample Integration (BasicApp - Android)
- [Sample Gradle Build Script](https://raw.githubusercontent.com/clix-so/clix-android-sdk/refs/heads/main/samples/basic-app/build.gradle.kts): Configures the sample Android app module used to demonstrate SDK integration.
- [Sample Android Manifest](https://raw.githubusercontent.com/clix-so/clix-android-sdk/refs/heads/main/samples/basic-app/src/main/AndroidManifest.xml): Declares the sample app's components and integrates required permissions for push notifications.
- [BasicApplication](https://raw.githubusercontent.com/clix-so/clix-android-sdk/refs/heads/main/samples/basic-app/src/main/kotlin/so/clix/samples/basic/BasicApplication.kt): Application class that initializes the Clix SDK early with a ClixConfig example.
- [MainActivity](https://raw.githubusercontent.com/clix-so/clix-android-sdk/refs/heads/main/samples/basic-app/src/main/kotlin/so/clix/samples/basic/MainActivity.kt): Entry activity hosting the sample UI and wiring navigation/notification tap routing.
- [MainScreen](https://raw.githubusercontent.com/clix-so/clix-android-sdk/refs/heads/main/samples/basic-app/src/main/kotlin/so/clix/samples/basic/MainScreen.kt): Demonstrates common SDK calls (identify user, set/remove properties, view device ID/token, track events) with a simple UI.
- [AppTheme](https://raw.githubusercontent.com/clix-so/clix-android-sdk/refs/heads/main/samples/basic-app/src/main/kotlin/so/clix/samples/basic/AppTheme.kt): Material theme setup for the sample app UI.
- [UserPreferences](https://raw.githubusercontent.com/clix-so/clix-android-sdk/refs/heads/main/samples/basic-app/src/main/kotlin/so/clix/samples/basic/UserPreferences.kt): Sample-side preferences helper used by the demo UI.
- [Sample ProGuard Rules](https://raw.githubusercontent.com/clix-so/clix-android-sdk/refs/heads/main/samples/basic-app/proguard-rules.pro): Shrinker rules for the sample app when building release variants.

# Platform: Flutter

## Core Components
- [Clix Main](https://raw.githubusercontent.com/clix-so/clix-flutter-sdk/refs/heads/main/lib/src/core/clix.dart): Main Flutter SDK class with singleton pattern and async/await API. Initialization is async and thread-safe with Completer for synchronization. Features include method channel bridge to native iOS/Android, unified API across platforms, user identification (setUserId, removeUserId), user property management (setUserProperty, setUserProperties), device information retrieval (getDeviceId, getPushToken), and push notification handling. Uses StorageService, EventService, DeviceService, and NotificationService. Implements initialization state management to prevent double initialization. All public methods handle exceptions gracefully with ClixLogger.
- [Clix Config](https://raw.githubusercontent.com/clix-so/clix-flutter-sdk/refs/heads/main/lib/src/core/clix_config.dart): Immutable configuration class with builder pattern for Flutter SDK. Required fields: projectId and apiKey. Optional: endpoint URL, logLevel (ClixLogLevel enum), debug mode flag. Implements fromJson/toJson for persistent storage and background handler access. Uses json_annotation for code generation. Validates configuration parameters. Stored in SharedPreferences via StorageService. Used by Clix.initialize().
- [Clix Version](https://raw.githubusercontent.com/clix-so/clix-flutter-sdk/refs/heads/main/lib/src/core/clix_version.dart): SDK version constant for API headers and debugging. Contains current version string used in User-Agent headers. Updated with each release. Logged during initialization for troubleshooting.

## Services
- [Notification Service](https://raw.githubusercontent.com/clix-so/clix-flutter-sdk/refs/heads/main/lib/src/services/notification_service.dart): Platform channel bridge for push notifications. Integrates with Firebase Cloud Messaging via native plugins. Features include FCM token management and callbacks, foreground notification handling with customization, background notification processing via isolate, notification tap event handling with payload, method channel communication for iOS/Android interop, and notification permission requests. Tracks notification analytics via EventService. Supports Flutter local notifications for in-app display. Handles notification actions and deep links.
- [Event Service](https://raw.githubusercontent.com/clix-so/clix-flutter-sdk/refs/heads/main/lib/src/services/event_service.dart): Event tracking with offline queue and batch upload. Features include async event tracking with Future API, event queue with SharedPreferences persistence, batch upload scheduler with periodic sync, automatic retry with exponential backoff, event deduplication by event ID, custom events with Map<String, dynamic> properties, and automatic device context enrichment. Uses EventAPIService for backend communication. Implements queue size limits and TTL. Tracks SDK events (notification_received, notification_tapped) automatically.
- [Device Service](https://raw.githubusercontent.com/clix-so/clix-flutter-sdk/refs/heads/main/lib/src/services/device_service.dart): Device management via platform channels. Features include device information collection from native (device_info_plus plugin), device registration and updates with backend, user identification management (project user ID), user property CRUD operations, token upsert for push notifications, and platform-specific data collection (iOS: UIDevice, Android: Build). Uses DeviceAPIService for API calls. Implements local-first with background sync. Handles ClixDevice model lifecycle.
- [Storage Service](https://raw.githubusercontent.com/clix-so/clix-flutter-sdk/refs/heads/main/lib/src/services/storage_service.dart): SharedPreferences abstraction for Flutter. Provides async key-value storage with type-safe API, project-scoped keys for data isolation, JSON serialization for complex objects, migration helpers for SDK updates, and clear/remove operations. Thread-safe with async/await. Used for device info, user properties, event queue, tokens, and config. Implements get<T>() and set<T>() generics for type safety.
- [Clix API Client](https://raw.githubusercontent.com/clix-so/clix-flutter-sdk/refs/heads/main/lib/src/services/clix_api_client.dart): Dio-based HTTP client for API communication. Features include request/response interceptors for auth and logging, automatic retry interceptor with exponential backoff, timeout configuration (connect, receive, send), error mapping to ClixError, JSON serialization with json_serializable, connection timeout handling, and Dart Future API for async operations. Supports request cancellation via CancelToken. Used by DeviceAPIService and EventAPIService. Handles dio exceptions to SDK errors.
- [Token Service](https://raw.githubusercontent.com/clix-so/clix-flutter-sdk/refs/heads/main/lib/src/services/token_service.dart): FCM token lifecycle manager for Flutter. Features include token persistence with SharedPreferences, token refresh detection via Firebase callbacks, token retrieval for API calls and notifications, automatic token registration with backend via DeviceService, and Firebase Cloud Messaging integration. Handles token updates and callbacks. Monitors firebase_messaging package events. Ensures push notification deliverability.
- [Device API Service](https://raw.githubusercontent.com/clix-so/clix-flutter-sdk/refs/heads/main/lib/src/services/device_api_service.dart): REST API client for device operations. Endpoints include POST /devices for registration, PUT /devices/{id} for updates, POST /devices/tokens for token upsert, GET /devices/{id} for retrieval, and PATCH /devices/{id}/properties for user properties. Uses ClixAPIClient for HTTP. Handles ClixDevice serialization/deserialization. Maps HTTP errors to ClixError. Implements retry for 5xx errors.
- [Event API Service](https://raw.githubusercontent.com/clix-so/clix-flutter-sdk/refs/heads/main/lib/src/services/event_api_service.dart): Event tracking REST API client. Endpoints include POST /events/batch for bulk upload (preferred), POST /events for single event tracking. Handles event serialization to JSON, batch size limits (max 100 events per request), response parsing for success/failure, and retry logic for failed requests. Uses ClixAPIClient. Implements request compression for large payloads.

## Models
- [Clix Device](https://raw.githubusercontent.com/clix-so/clix-flutter-sdk/refs/heads/main/lib/src/models/clix_device.dart): Device data model for Flutter with json_serializable. Properties include deviceId (UUID string), platform (iOS or Android), osVersion (operating system version), deviceModel (device model name), deviceManufacturer (manufacturer name), appVersion (package version), locale (user locale code), timezone (timezone identifier), screenWidth/Height (display dimensions), and userProperties (Map<String, dynamic>). Implements toJson/fromJson for API and storage. Includes factory constructor with automatic platform detection. Used by DeviceService. Supports custom properties.
- [Clix Push Notification Payload](https://raw.githubusercontent.com/clix-so/clix-flutter-sdk/refs/heads/main/lib/src/models/clix_push_notification_payload.dart): Notification payload parser for FCM messages. Extracts title, body, imageUrl (optional image URL), data (custom Map<String, dynamic>), notificationId (unique ID), channelId (Android channel), priority (notification priority), sound (notification sound), badge (iOS badge count), and clickAction (deep link URL). Implements json_serializable for parsing. Handles both notification and data-only payloads. Validates required fields with null safety. Used by NotificationService.
- [Clix User Property](https://raw.githubusercontent.com/clix-so/clix-flutter-sdk/refs/heads/main/lib/src/models/clix_user_property.dart): User attribute model with dynamic typing. Properties include key (property name), value (dynamic type supporting String, num, bool, DateTime), type (enum of supported types), and timestamp (property modification time). Implements json_serializable with custom converters for dynamic values. Validates key format (alphanumeric, max length 64) and value constraints. Used by DeviceService for user property management. Supports nested objects via JSON encoding.

## Platform Integration
- [Platform Messages](https://raw.githubusercontent.com/clix-so/clix-flutter-sdk/refs/heads/main/lib/src/platform/messages.g.dart): Pigeon-generated platform channel definitions for native communication. Defines method channel interfaces for iOS and Android interop including device info retrieval, notification handling, token management, and event tracking. Provides type-safe method channels with automatic serialization. Generated from pigeons/ definitions. Handles bidirectional communication between Flutter and native code. Supports asynchronous callbacks.

## Utilities
- [Clix Error](https://raw.githubusercontent.com/clix-so/clix-flutter-sdk/refs/heads/main/lib/src/utils/clix_error.dart): Custom exception types for Flutter SDK. Errors include NotInitializedError (SDK not initialized), InvalidConfigurationError (invalid config), NetworkError (HTTP failures), ApiError (backend errors with status code and body), StorageError (SharedPreferences failures), and SerializationError (JSON encoding issues). Extends Exception with message and cause. Provides error context and toString() for debugging. Used throughout SDK for error handling.

### Logging
- [Clix Logger](https://raw.githubusercontent.com/clix-so/clix-flutter-sdk/refs/heads/main/lib/src/utils/logging/clix_logger.dart): Flutter logging utility with configurable levels. Uses developer.log internally with custom name. Supports verbose, debug, info, warning, error levels. Features include log filtering by level, formatted output with timestamps, integration with Flutter DevTools, error and stack trace support, and log forwarding to crash reporting. Respects logLevel from ClixConfig. Thread-safe with zone-based isolation. Can pipe to native loggers.
- [Clix Log Level](https://raw.githubusercontent.com/clix-so/clix-flutter-sdk/refs/heads/main/lib/src/utils/logging/clix_log_level.dart): Enum defining logging verbosity levels. Values: verbose (all logs), debug (development), info (informational), warning (potential issues), error (actual errors), none (silent). Implements Comparable for level filtering. Maps to Flutter log severity. Used by ClixLogger.setLogLevel(). Serializable for config storage.

## Build and Configuration
- [pubspec.yaml](https://raw.githubusercontent.com/clix-so/clix-flutter-sdk/refs/heads/main/pubspec.yaml): Flutter package manifest with SDK constraints, dependencies, plugin metadata, and assets.
- [build.yaml](https://raw.githubusercontent.com/clix-so/clix-flutter-sdk/refs/heads/main/build.yaml): Build configuration for code generation or builders used in the package.
- [Android Manifest (plugin)](https://raw.githubusercontent.com/clix-so/clix-flutter-sdk/refs/heads/main/android/src/main/AndroidManifest.xml): Declares Android-side plugin components and permissions for FCM/notifications.
- [Android build.gradle](https://raw.githubusercontent.com/clix-so/clix-flutter-sdk/refs/heads/main/android/build.gradle): Android plugin module Gradle config (SDK versions, Kotlin options, dependencies).
- [Android ClixPlugin](https://raw.githubusercontent.com/clix-so/clix-flutter-sdk/refs/heads/main/android/src/main/kotlin/so/clix/ClixPlugin.kt): Android platform implementation for the Flutter plugin.
- [iOS podspec](https://raw.githubusercontent.com/clix-so/clix-flutter-sdk/refs/heads/main/ios/clix_flutter.podspec): CocoaPods spec describing the iOS plugin, sources, and dependencies.
- [iOS Plugin Implementation (ClixPlugin)](https://raw.githubusercontent.com/clix-so/clix-flutter-sdk/refs/heads/main/ios/Classes/ClixPlugin.swift): iOS platform implementation for the Flutter plugin.
- [Pigeon Definitions (messages)](https://raw.githubusercontent.com/clix-so/clix-flutter-sdk/refs/heads/main/pigeons/messages.dart): Pigeon definitions for type-safe platform channels; generates Messages.g.kt and Messages.g.swift.
- [Generated Android messages](https://raw.githubusercontent.com/clix-so/clix-flutter-sdk/refs/heads/main/android/src/main/kotlin/so/clix/Messages.g.kt): Generated Kotlin interfaces from Pigeon for platform communication.
- [Generated iOS messages](https://raw.githubusercontent.com/clix-so/clix-flutter-sdk/refs/heads/main/ios/Classes/Messages.g.swift): Generated Swift interfaces from Pigeon for platform communication.

## Sample Integration (BasicApp - Flutter)
- [Sample README](https://raw.githubusercontent.com/clix-so/clix-flutter-sdk/refs/heads/main/samples/basic_app/README.md): Instructions for running and integrating the sample Flutter app with Clix.
- [Sample pubspec](https://raw.githubusercontent.com/clix-so/clix-flutter-sdk/refs/heads/main/samples/basic_app/pubspec.yaml): Dependencies and assets for the sample app.
- [Sample App Entry (main)](https://raw.githubusercontent.com/clix-so/clix-flutter-sdk/refs/heads/main/samples/basic_app/lib/main.dart): Entry point demonstrating SDK initialization and UI wiring.
- [Sample Clix Info Helper (clix_info)](https://raw.githubusercontent.com/clix-so/clix-flutter-sdk/refs/heads/main/samples/basic_app/lib/clix_info.dart): Sample helper for displaying SDK/device info.
- [Android Manifest (sample)](https://raw.githubusercontent.com/clix-so/clix-flutter-sdk/refs/heads/main/samples/basic_app/android/app/src/main/AndroidManifest.xml): Declares sample app components and notification permissions.
- [MainActivity.kt (sample)](https://raw.githubusercontent.com/clix-so/clix-flutter-sdk/refs/heads/main/samples/basic_app/android/app/src/main/kotlin/so/clix/samples/basic/MainActivity.kt): Android entry activity for the Flutter sample.
- [iOS AppDelegate.swift (sample)](https://raw.githubusercontent.com/clix-so/clix-flutter-sdk/refs/heads/main/samples/basic_app/ios/Runner/AppDelegate.swift): iOS application delegate integrating SDK and push notifications.
- [iOS Notification Service Extension](https://raw.githubusercontent.com/clix-so/clix-flutter-sdk/refs/heads/main/samples/basic_app/ios/ClixNotificationExtension/NotificationService.swift): Rich notification handling for iOS sample.

# Platform: React-native

## Core Components
- [Clix Main](https://raw.githubusercontent.com/clix-so/clix-react-native-sdk/refs/heads/main/src/core/Clix.ts): Primary React Native SDK class with Promise-based async API and native module bridge. Uses ClixInitCoordinator for thread-safe initialization state management. Features include native module communication for iOS/Android via TurboModules, unified JavaScript API across platforms, async/await pattern for all operations, user identification (setUserId, removeUserId), user property management (setUserProperty, setUserProperties, removeUserProperty), device info retrieval (getDeviceId, getPushToken), and push notification handling. All methods include error handling and logging. Implements singleton pattern with static methods. Services are lazily initialized.
- [Clix Config](https://raw.githubusercontent.com/clix-so/clix-react-native-sdk/refs/heads/main/src/core/ClixConfig.ts): TypeScript interface defining SDK configuration with strict type checking. Required: projectId (string) and apiKey (string). Optional: endpoint (string URL), logLevel (ClixLogLevel enum), debug (boolean flag), and timeout (number in ms). Provides compile-time type safety for configuration. Stored in AsyncStorage for persistence. Used by Clix.initialize(config). Includes JSDoc comments for IntelliSense.
- [Clix Init Coordinator](https://raw.githubusercontent.com/clix-so/clix-react-native-sdk/refs/heads/main/src/core/ClixInitCoordinator.ts): Initialization state machine managing SDK lifecycle. Features include thread-safe initialization with Promise coordination, prevents double initialization with queuing, tracks initialization state (not started, in progress, completed, failed), provides waitForInitialization() for dependent operations, error state management with recovery, and reset() for re-initialization. Implements state pattern with Promise-based async locking. Ensures services initialize exactly once.
- [Clix Version](https://raw.githubusercontent.com/clix-so/clix-react-native-sdk/refs/heads/main/src/core/ClixVersion.ts): SDK version constant exported for API headers. Contains current version string used in User-Agent and X-Clix-Version headers. Logged during initialization. Type-safe constant.

## Services
- [Notification Service](https://raw.githubusercontent.com/clix-so/clix-react-native-sdk/refs/heads/main/src/services/NotificationService.ts): Native module bridge for push notifications in React Native. Integrates with @react-native-firebase/messaging for FCM. Features include FCM token retrieval and callbacks, foreground notification handling with custom display, background notification via headless task, notification tap event listeners with payload, permission request for iOS 10+, and notification channel management for Android 8+. Tracks notification analytics via EventService. Provides TypeScript event emitter for notification events. Handles notification actions and deep links via Linking.
- [Event Service](https://raw.githubusercontent.com/clix-so/clix-react-native-sdk/refs/heads/main/src/services/EventService.ts): Event tracking engine with offline queue and batch upload for React Native. Features include async event tracking with Promise API, event queue with AsyncStorage persistence, batch upload scheduler using setInterval, automatic retry with exponential backoff, event deduplication by event ID, custom events with Record<string, any> properties, and automatic device context enrichment. Uses EventAPIService for backend. Implements queue size limits (max 1000 events) and TTL (7 days). Tracks SDK events automatically.
- [Device Service](https://raw.githubusercontent.com/clix-so/clix-react-native-sdk/refs/heads/main/src/services/DeviceService.ts): Device management via native modules and react-native-device-info. Features include device information collection (platform, OS, model), device registration and updates with backend, user identification management (project user ID), user property CRUD (add, update, remove), token upsert for push notifications, and ClixDevice model management. Uses DeviceAPIService for API. Implements local-first with background sync. Handles async operations with error catching.
- [Storage Service](https://raw.githubusercontent.com/clix-so/clix-react-native-sdk/refs/heads/main/src/services/StorageService.ts): AsyncStorage wrapper providing type-safe async storage for React Native. Features include async/await key-value API, project-scoped keys for data isolation, JSON serialization for objects with error handling, get<T>/set<T> generic methods with type inference, multiGet/multiSet for batch operations, clear() and remove() for cleanup, and error handling for storage quota. Thread-safe with Promise-based concurrency. Used for device info, user properties, event queue, tokens, and config.
- [Clix API Client](https://raw.githubusercontent.com/clix-so/clix-react-native-sdk/refs/heads/main/src/services/ClixAPIClient.ts): Fetch-based HTTP client for React Native API communication. Features include fetch API with async/await, automatic retry with exponential backoff, timeout via AbortController, request/response interceptors for auth and logging, error mapping to ClixError types, JSON serialization/parsing with type safety, headers management (Content-Type, Authorization), and TypeScript generic response typing. Supports request cancellation. Used by DeviceAPIService and EventAPIService. Handles network errors gracefully.
- [Token Service](https://raw.githubusercontent.com/clix-so/clix-react-native-sdk/refs/heads/main/src/services/TokenService.ts): FCM token manager for React Native using Firebase messaging. Features include token persistence with AsyncStorage, token refresh detection via Firebase listeners, token retrieval for notifications, automatic registration with backend via DeviceService, and @react-native-firebase/messaging integration. Handles token updates and callbacks. Monitors messaging().onTokenRefresh event. Ensures push deliverability.
- [Device API Service](https://raw.githubusercontent.com/clix-so/clix-react-native-sdk/refs/heads/main/src/services/DeviceAPIService.ts): REST API client for device operations with TypeScript. Endpoints include POST /devices for registration, PUT /devices/{id} for updates, POST /devices/tokens for token upsert, GET /devices/{id} for retrieval, and PATCH /devices/{id}/properties for user properties. Uses ClixAPIClient. Handles ClixDevice typing and serialization. Maps HTTP errors to ClixError. Implements retry for server errors (5xx).
- [Event API Service](https://raw.githubusercontent.com/clix-so/clix-react-native-sdk/refs/heads/main/src/services/EventAPIService.ts): Event tracking REST API client with batch support. Endpoints include POST /events/batch for bulk upload (recommended for efficiency), POST /events for single event. Handles event typing with TypeScript interfaces, batch size limits (max 100 per request), response parsing with error handling, and retry logic for failures. Uses ClixAPIClient. Implements request compression via gzip headers.

## Models
- [Clix Device](https://raw.githubusercontent.com/clix-so/clix-react-native-sdk/refs/heads/main/src/models/ClixDevice.ts): TypeScript interface for device data with strict typing. Properties include deviceId (string UUID), platform (literal type 'ios' | 'android'), osVersion (string), deviceModel (string), deviceManufacturer (string, Android only), appVersion (string from package.json), buildNumber (string), locale (string locale code), timezone (string identifier), screenWidth/Height (number), and userProperties (Record<string, any>). Provides type safety and IntelliSense. Used by DeviceService. Supports optional fields with undefined.
- [Clix Push Notification Payload](https://raw.githubusercontent.com/clix-so/clix-react-native-sdk/refs/heads/main/src/models/ClixPushNotificationPayload.ts): TypeScript interface for FCM notification parsing. Properties include title (string), body (string), imageUrl (optional string), data (Record<string, string> for custom data), notificationId (string), channelId (string, Android), priority (number), sound (string), badge (number, iOS), and clickAction (string deep link). Provides type checking for notification payloads. Used by NotificationService. Handles both RemoteMessage formats from iOS and Android.
- [Clix User Property](https://raw.githubusercontent.com/clix-so/clix-react-native-sdk/refs/heads/main/src/models/ClixUserProperty.ts): TypeScript interface for user attributes with type unions. Properties include key (string with validation), value (string | number | boolean | Date with type union), type (enum of 'string' | 'number' | 'boolean' | 'date'), and timestamp (Date). Provides compile-time type checking. Validates key format (alphanumeric, max 64). Used by DeviceService. Supports serialization to JSON via type conversion.

## Utilities
- [Clix Error](https://raw.githubusercontent.com/clix-so/clix-react-native-sdk/refs/heads/main/src/utils/ClixError.ts): Custom Error subclasses for React Native SDK with TypeScript. Errors include NotInitializedError (SDK not initialized), InvalidConfigurationError (invalid config), NetworkError (fetch failures), ApiError (backend errors with status and body), StorageError (AsyncStorage failures), and SerializationError (JSON parse issues). Extends Error with name, message, and cause. Provides stack traces. Used for consistent error handling. Implements toString() and toJSON().
- [UUID Generator](https://raw.githubusercontent.com/clix-so/clix-react-native-sdk/refs/heads/main/src/utils/UUID.ts): UUID v4 generator utility using crypto.getRandomValues or fallback. Generates RFC4122-compliant UUIDs for device IDs and event IDs. Provides type-safe UUID string generation. Handles React Native crypto API or Math.random() fallback. Used by DeviceService and EventService.

### Logging
- [Clix Logger](https://raw.githubusercontent.com/clix-so/clix-react-native-sdk/refs/heads/main/src/utils/logging/ClixLogger.ts): Logging utility with console wrapper and level filtering. Exports ClixLogLevel enum (VERBOSE, DEBUG, INFO, WARNING, ERROR, NONE). Features include log level filtering, formatted output with timestamps, console method mapping (log, warn, error), error and stack trace logging, and TypeScript type safety. Respects logLevel from ClixConfig. Can forward to native loggers or crash reporting. Provides setLogLevel() static method.

## Build and Configuration
- [package.json](https://raw.githubusercontent.com/clix-so/clix-react-native-sdk/refs/heads/main/package.json): Package metadata, build scripts, TypeScript config hookup, and dependencies for the RN SDK.
- [babel.config.js](https://raw.githubusercontent.com/clix-so/clix-react-native-sdk/refs/heads/main/babel.config.js): Babel configuration for transpilation across React Native environments.
- [tsconfig.json](https://raw.githubusercontent.com/clix-so/clix-react-native-sdk/refs/heads/main/tsconfig.json): TypeScript configuration for authoring and type-checking the SDK.
- [tsconfig.build.json](https://raw.githubusercontent.com/clix-so/clix-react-native-sdk/refs/heads/main/tsconfig.build.json): Build-specific TS config used to emit distributable JS/typings.


## Sample Integration (BasicApp - React Native)
- [Sample package.json](https://raw.githubusercontent.com/clix-so/clix-react-native-sdk/refs/heads/main/samples/BasicApp/package.json): Dependencies, scripts, and metro configuration for running the sample app.
- [Android build.gradle (sample)](https://raw.githubusercontent.com/clix-so/clix-react-native-sdk/refs/heads/main/samples/BasicApp/android/app/build.gradle): Android app module build script for the sample.
- [Android Manifest (sample)](https://raw.githubusercontent.com/clix-so/clix-react-native-sdk/refs/heads/main/samples/BasicApp/android/app/src/main/AndroidManifest.xml): Declares sample app components and permissions.
- [MainApplication.kt (sample)](https://raw.githubusercontent.com/clix-so/clix-react-native-sdk/refs/heads/main/samples/BasicApp/android/app/src/main/kotlin/so/clix/samples/basic/MainApplication.kt): Initializes RN app and integrates SDK at application start.
- [MainActivity.kt (sample)](https://raw.githubusercontent.com/clix-so/clix-react-native-sdk/refs/heads/main/samples/BasicApp/android/app/src/main/kotlin/so/clix/samples/basic/MainActivity.kt): Entry activity for the Android sample.
- [iOS AppDelegate.mm (sample)](https://raw.githubusercontent.com/clix-so/clix-react-native-sdk/refs/heads/main/samples/BasicApp/ios/ClixSample/AppDelegate.mm): iOS app delegate wiring the RN bridge and SDK.
- [iOS Info.plist (sample)](https://raw.githubusercontent.com/clix-so/clix-react-native-sdk/refs/heads/main/samples/BasicApp/ios/ClixSample/Info.plist): iOS configuration, permissions, and display settings.
- [App.tsx](https://raw.githubusercontent.com/clix-so/clix-react-native-sdk/refs/heads/main/samples/BasicApp/src/App.tsx): Sample UI demonstrating SDK calls and event tracking.
- [Sample Clix Info Helper (ClixInfo)](https://raw.githubusercontent.com/clix-so/clix-react-native-sdk/refs/heads/main/samples/BasicApp/src/ClixInfo.ts): Helper to display device and SDK info in the sample UI.
